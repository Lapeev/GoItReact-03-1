{"version":3,"sources":["components/bookList/bookList.module.css","components/booksApi.module.css","components/searchBar/searchBar.module.css","components/optionsBar/optionsBar.module.css","components/searchBar/SearchBar.js","components/optionsBar/OptionsBar.js","services/article-api.js","components/bookList/BookList.js","components/errorNotification/ErrorNotification.js","components/booksApi.js","app.js","index.js"],"names":["module","exports","list","img","listItem","title","wrapper","form","button","spinner","label","span","input","select","SearchBar","_ref","value","onChange","name","react_default","a","createElement","className","style","htmlFor","id","type","Options","genres","option","defaultValue","disabled","map","genreName","key","fetchArticles","genre","axios","get","concat","BookList","articles","article","src","volumeInfo","imageLinks","thumbnail","alt","descr","description","authors","StyleSheet","author","publisher","publishedDate","pageCount","maturityRating","ErrorNotification","text","BookApi","state","isLoading","error","onHandleChange","e","_e$target","target","_this","setState","Object","defineProperty","fetchBooks","then","data","items","catch","finally","handleSubmit","preventDefault","_this$state","reset","_this$state2","this","onSubmit","searchBar_SearchBar","OptionsBar","dist_default","length","bookList_BookList","errorNotification_ErrorNotification","message","Component","App","booksApi_BookApi","ReactDOM","render","app","document","getElementById"],"mappings":"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","file":"static/js/main.375fe705.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"bookList_list__132Ob\",\"img\":\"bookList_img__3GcGW\",\"listItem\":\"bookList_listItem__3D8oM\",\"title\":\"bookList_title__1Pr2M\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"booksApi_wrapper__3_rq2\",\"form\":\"booksApi_form__3ZXQF\",\"button\":\"booksApi_button__3cE3b\",\"spinner\":\"booksApi_spinner__23qiY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"label\":\"searchBar_label__27_Bu\",\"span\":\"searchBar_span__2IQ_s\",\"input\":\"searchBar_input__Qj_z-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"select\":\"optionsBar_select__3y33Q\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport style from './searchBar.module.css';\n\nconst SearchBar = ({ value, onChange, name }) => (\n  <label className={style.label} htmlFor=\"bookName\">\n    <span className={style.span}>Введите интересующую тему</span>\n    <input\n      className={style.input}\n      id=\"bookName\"\n      name={name}\n      value={value}\n      onChange={onChange}\n      type=\"text\"\n    />\n  </label>\n);\n\nSearchBar.propTypes = {\n  onChange: PropTypes.func.isRequired,\n  name: PropTypes.string.isRequired,\n  value: PropTypes.string.isRequired,\n};\n\nexport default SearchBar;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport style from './optionsBar.module.css';\n\nconst Options = ({ genres, onChange, name, value }) => (\n  /* eslint-disable-next-line */\n    <select className={style.select} name={name} value={value} onChange={onChange}>\n    <option className={style.option} value=\"\" defaultValue disabled>\n      Выберете жанр\n    </option>\n    {genres.map(genreName => (\n      <option className={style.option} key={genreName} value={genreName}>\n        {genreName}\n      </option>\n    ))}\n  </select>\n);\n\nOptions.propTypes = {\n  genres: PropTypes.arrayOf(PropTypes.string).isRequired,\n  onChange: PropTypes.func.isRequired,\n  name: PropTypes.string.isRequired,\n  value: PropTypes.string.isRequired,\n};\n\nexport default Options;\n","import axios from 'axios';\n\nconst BASE_URL = 'https://www.googleapis.com/books/v1/volumes?q=';\n\n/* eslint-disable-next-line */\nexport const fetchArticles = (title, genre) => axios.get(`${BASE_URL + title}+subject:${genre}&key=AIzaSyD9d2j89zZl7mCsN2AnjfkYS9g28hWRcYE`,);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport style from './bookList.module.css';\n\nconst BookList = ({ articles }) => (\n  <ul className={style.list}>\n    {articles.map(article => (\n      <li className={style.listItem} key={article.id}>\n        <img\n          className={style.img}\n          src={article.volumeInfo.imageLinks.thumbnail}\n          alt=\"Book\"\n        />\n        <h2 className={style.title}>{article.volumeInfo.title}</h2>\n        <p className={style.descr}>{article.volumeInfo.description}</p>\n        {article.volumeInfo.authors && (\n          <p className={StyleSheet.author}>\n            Автор/a: {article.volumeInfo.authors.map(author => author)}\n          </p>\n        )}\n        <p className={style.publisher}>\n          Издатель: {article.volumeInfo.publisher}\n        </p>\n        <p>Год издания: {article.volumeInfo.publishedDate}</p>\n        <p>К-во страниц: {article.volumeInfo.pageCount}</p>\n        <p>\n          Возрастной рейтинг:{' '}\n          {article.volumeInfo.maturityRating === 'NOT_MATURE'\n            ? 'Без возрастных ограничений'\n            : '18+'}\n        </p>\n      </li>\n    ))}\n  </ul>\n);\n\nBookList.propTypes = {\n  articles: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.string.isRequired,\n      volumeInfo: PropTypes.shape({\n        title: PropTypes.string.isRequired,\n        description: PropTypes.string,\n        authors: PropTypes.array,\n        publisher: PropTypes.string,\n        publishedDate: PropTypes.string,\n        pageCount: PropTypes.number,\n        maturityRating: PropTypes.string,\n      }).isRequired,\n    }).isRequired,\n  ).isRequired,\n};\n\nexport default BookList;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst ErrorNotification = ({ text }) => <p>{text}</p>;\n\nErrorNotification.propTypes = {\n  text: PropTypes.string.isRequired,\n};\n\nexport default ErrorNotification;\n","import React, { Component } from 'react';\nimport Spinner from 'react-spinkit';\nimport genres from './genres.json';\nimport SearchBar from './searchBar/SearchBar';\nimport Options from './optionsBar/OptionsBar';\nimport * as fetchArticles from '../services/article-api';\nimport BookList from './bookList/BookList';\nimport ErrorNotification from './errorNotification/ErrorNotification';\nimport style from './booksApi.module.css';\n\nexport default class BookApi extends Component {\n  state = {\n    articles: [],\n    isLoading: false,\n    title: '',\n    genre: '',\n    error: null,\n  };\n\n  onHandleChange = e => {\n    const { name, value } = e.target;\n\n    this.setState({\n      [name]: value,\n    });\n  };\n\n  fetchBooks = (title, genre) => {\n    this.setState({ isLoading: true });\n    fetchArticles\n      .fetchArticles(title, genre)\n      .then(({ data }) => this.setState({ articles: data.items }))\n      .catch(error => this.setState({ error }))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n\n    const { title, genre } = this.state;\n    this.fetchBooks(title, genre);\n    this.reset();\n  };\n\n  reset = () => {\n    this.setState({\n      title: '',\n      genre: '',\n      articles: [],\n      error: null,\n    });\n  };\n\n  render() {\n    const { title, genre, articles, isLoading, error } = this.state;\n    return (\n      <div className={style.wrapper}>\n        <form className={style.form} onSubmit={this.handleSubmit}>\n          <SearchBar\n            name=\"title\"\n            value={title}\n            onChange={this.onHandleChange}\n          />\n          <Options\n            name=\"genre\"\n            value={genre}\n            onChange={this.onHandleChange}\n            genres={genres}\n          />\n          <button className={style.button} type=\"submit\">\n            Поиск\n          </button>\n        </form>\n        {isLoading && (\n          <div className={style.spinner}>\n            <Spinner name=\"circle\" />\n          </div>\n        )}\n        {articles.length > 0 && <BookList articles={articles} />}\n        {error && <ErrorNotification text={error.message} />}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport BookApi from './components/booksApi';\n\nconst App = () => <BookApi />;\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './app';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}